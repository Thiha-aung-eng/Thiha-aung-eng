import{r as m,a as N,e as k,j as d,l as oe,a8 as $e,R as w,a9 as Re,h as Ee,i as O,B as ne,aa as ze,ab as Ne,ac as C,u as ae,w as je,g as Le,X as De,ad as ke,ae as Fe,af as Be,ag as U,d as Ae,ah as Me,n as Ue,ai as We,a3 as qe,V as He,aj as W,k as Ve,F as Ze,ak as Ke,al as Ge,q as Xe,x as Ye}from"./index.20f44d4c.js";import{u as Je}from"./useMutation.78c3b305.js";import{I as Qe,a as er,K as rr,T as tr,A as or,H as nr}from"./kpwBrandLogo.f9ac206f.js";function ar(e){return r=>{if(!r)e(r);else if(typeof r=="function")e(r);else if(typeof r=="object"&&"nativeEvent"in r){const{currentTarget:t}=r;t.type==="checkbox"?e(t.checked):e(t.value)}else e(r)}}var ir=Object.defineProperty,sr=Object.defineProperties,lr=Object.getOwnPropertyDescriptors,q=Object.getOwnPropertySymbols,cr=Object.prototype.hasOwnProperty,ur=Object.prototype.propertyIsEnumerable,H=(e,r,t)=>r in e?ir(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,L=(e,r)=>{for(var t in r||(r={}))cr.call(r,t)&&H(e,t,r[t]);if(q)for(var t of q(r))ur.call(r,t)&&H(e,t,r[t]);return e},D=(e,r)=>sr(e,lr(r));function dr({initialValues:e,validationRules:r={},errorMessages:t={}}){const o=Object.keys(e).reduce((u,y)=>(u[y]=null,u),{}),[a,i]=m.exports.useState(o),[n,s]=m.exports.useState(e),c=()=>i(o),p=()=>{s(e),c()},l=()=>{let u=!0;const y=Object.keys(n).reduce((h,b)=>(r&&typeof r[b]=="function"&&!r[b](n[b],n)?(h[b]=t[b]||!0,u=!1):h[b]=null,h),{});return i(y),u},f=u=>i(y=>D(L({},y),{[u]:typeof r[u]=="function"?r[u](n[u],n)?null:t[u]||!0:null})),v=(u,y)=>i(h=>D(L({},h),{[u]:y})),g=(u,y)=>{s(h=>D(L({},h),{[u]:y})),v(u,null)};return{values:n,errors:a,validate:l,reset:p,setErrors:i,setValues:s,setFieldValue:g,setFieldError:v,validateField:f,resetErrors:c,onSubmit:u=>y=>{y&&y.preventDefault(),l()&&u(n)},getInputProps:(u,y)=>({[(y==null?void 0:y.type)==="checkbox"?"checked":"value"]:n[u],onChange:ar(h=>g(u,h)),error:a[u]||void 0})}}function pr(e,r){const[t,o]=m.exports.useState(e);return[t,i=>{o(typeof i!="undefined"?i:n=>n===r[0]?r[1]:r[0])}]}function fr(e=!1){return pr(e,[!0,!1])}var yr=N(()=>({root:{backgroundColor:"transparent",cursor:"pointer",padding:0,border:0}})),vr=yr,mr=Object.defineProperty,R=Object.getOwnPropertySymbols,ie=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable,V=(e,r,t)=>r in e?mr(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Z=(e,r)=>{for(var t in r||(r={}))ie.call(r,t)&&V(e,t,r[t]);if(R)for(var t of R(r))se.call(r,t)&&V(e,t,r[t]);return e},gr=(e,r)=>{var t={};for(var o in e)ie.call(e,o)&&r.indexOf(o)<0&&(t[o]=e[o]);if(e!=null&&R)for(var o of R(e))r.indexOf(o)<0&&se.call(e,o)&&(t[o]=e[o]);return t};const hr={},le=m.exports.forwardRef((e,r)=>{const t=k("Anchor",hr,e),{component:o,className:a,classNames:i,styles:n}=t,s=gr(t,["component","className","classNames","styles"]),{classes:c,cx:p}=vr(null,{name:"Anchor",classNames:i,styles:n}),l=o==="button"?{type:"button"}:null;return d(oe,{...Z(Z({component:o||"a",variant:"link",ref:r,className:p(c.root,a)},l),s)})});le.displayName="@mantine/core/Anchor";function ce({transition:e,duration:r=250,exitDuration:t=r,mounted:o,children:a,timingFunction:i,onExit:n,onEntered:s,onEnter:c,onExited:p}){const{transitionDuration:l,transitionStatus:f,transitionTimingFunction:v}=$e({mounted:o,exitDuration:t,duration:r,timingFunction:i,onExit:n,onEntered:s,onEnter:c,onExited:p});return l===0?o?w.createElement(w.Fragment,null,a({})):null:f==="exited"?null:w.createElement(w.Fragment,null,a(Re({transition:e,duration:l,state:f,timingFunction:v})))}ce.displayName="@mantine/core/Transition";var br=N({root:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"}}),_r=br,wr=Object.defineProperty,Pr=Object.defineProperties,Sr=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,ue=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable,K=(e,r,t)=>r in e?wr(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,I=(e,r)=>{for(var t in r||(r={}))ue.call(r,t)&&K(e,t,r[t]);if(E)for(var t of E(r))de.call(r,t)&&K(e,t,r[t]);return e},Or=(e,r)=>Pr(e,Sr(r)),xr=(e,r)=>{var t={};for(var o in e)ue.call(e,o)&&r.indexOf(o)<0&&(t[o]=e[o]);if(e!=null&&E)for(var o of E(e))r.indexOf(o)<0&&de.call(e,o)&&(t[o]=e[o]);return t};const Tr={overlayOpacity:.75,transitionDuration:200,zIndex:Ee("overlay")},pe=m.exports.forwardRef((e,r)=>{const t=k("LoadingOverlay",Tr,e),{className:o,visible:a,loaderProps:i,overlayOpacity:n,overlayColor:s,transitionDuration:c,exitTransitionDuration:p,zIndex:l,style:f,loader:v,radius:g,classNames:P,styles:_}=t,u=xr(t,["className","visible","loaderProps","overlayOpacity","overlayColor","transitionDuration","exitTransitionDuration","zIndex","style","loader","radius","classNames","styles"]),{classes:y,cx:h,theme:b}=_r(null,{name:"LoadingOverlay",classNames:P,styles:_});return d(ce,{duration:c,exitDuration:p,mounted:a,transition:"fade",children:x=>O(ne,{...I({className:h(y.root,o),style:Or(I(I({},x),f),{zIndex:l}),ref:r},u),children:[v?d("div",{style:{zIndex:l+1},children:v}):d(ze,{...I({style:{zIndex:l+1}},i)}),d(Ne,{opacity:n,zIndex:l,radius:g,color:s||(b.colorScheme==="dark"?b.colors.dark[5]:b.white)})]})})});pe.displayName="@mantine/core/LoadingOverlay";const Cr=({reveal:e,size:r=15})=>w.createElement("svg",{width:r,height:r,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},w.createElement("path",{d:e?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}));var Ir=Object.defineProperty,$r=Object.defineProperties,Rr=Object.getOwnPropertyDescriptors,G=Object.getOwnPropertySymbols,Er=Object.prototype.hasOwnProperty,zr=Object.prototype.propertyIsEnumerable,X=(e,r,t)=>r in e?Ir(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,Nr=(e,r)=>{for(var t in r||(r={}))Er.call(r,t)&&X(e,t,r[t]);if(G)for(var t of G(r))zr.call(r,t)&&X(e,t,r[t]);return e},jr=(e,r)=>$r(e,Rr(r)),Lr=N((e,{size:r,rightSectionWidth:t})=>({visibilityToggle:{},input:{position:"relative",overflow:"hidden"},innerInput:jr(Nr({},e.fn.fontStyles()),{backgroundColor:"transparent",border:0,boxSizing:"border-box",position:"absolute",display:"block",width:`calc(100% - ${t}px)`,paddingLeft:e.fn.size({size:r,sizes:C})/3,fontSize:e.fn.size({size:r,sizes:e.fontSizes}),height:e.fn.size({size:r,sizes:C})-2,lineHeight:`${e.fn.size({size:r,sizes:C})-2}px`,color:e.colorScheme==="dark"?e.colors.dark[0]:e.black,top:0,bottom:0,left:0,right:0,"&:focus":{outline:0},"&:disabled":{cursor:"not-allowed"},"&::placeholder":{opacity:1,userSelect:"none",color:e.colorScheme==="dark"?e.colors.dark[3]:e.colors.gray[5]}}),invalid:{color:e.colors.red[e.colorScheme==="dark"?6:7],"&::placeholder":{opacity:1,color:e.colors.red[e.colorScheme==="dark"?6:7]}},withIcon:{paddingLeft:`${e.fn.size({size:r,sizes:C})}px !important`}})),Dr=Lr,kr=Object.defineProperty,Fr=Object.defineProperties,Br=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,fe=Object.prototype.hasOwnProperty,ye=Object.prototype.propertyIsEnumerable,Y=(e,r,t)=>r in e?kr(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,$=(e,r)=>{for(var t in r||(r={}))fe.call(r,t)&&Y(e,t,r[t]);if(z)for(var t of z(r))ye.call(r,t)&&Y(e,t,r[t]);return e},Ar=(e,r)=>Fr(e,Br(r)),Mr=(e,r)=>{var t={};for(var o in e)fe.call(e,o)&&r.indexOf(o)<0&&(t[o]=e[o]);if(e!=null&&z)for(var o of z(e))r.indexOf(o)<0&&ye.call(e,o)&&(t[o]=e[o]);return t};const Ur={xs:22,sm:28,md:26,lg:32,xl:40},Wr={xs:12,sm:15,md:17,lg:19,xl:21},qr={xs:28,sm:34,md:34,lg:44,xl:54},Hr={size:"sm",toggleTabIndex:-1,visibilityToggleIcon:Cr,__staticSelector:"PasswordInput"},ve=m.exports.forwardRef((e,r)=>{const t=k("PasswordInput",Hr,e),{radius:o,disabled:a,size:i,toggleTabIndex:n,className:s,id:c,label:p,error:l,required:f,style:v,icon:g,description:P,wrapperProps:_,classNames:u,styles:y,variant:h,visibilityToggleIcon:b,__staticSelector:x,rightSection:ut,rightSectionWidth:dt,rightSectionProps:pt,sx:_e,labelProps:we,descriptionProps:Pe,errorProps:Se}=t,Oe=Mr(t,["radius","disabled","size","toggleTabIndex","className","id","label","error","required","style","icon","description","wrapperProps","classNames","styles","variant","visibilityToggleIcon","__staticSelector","rightSection","rightSectionWidth","rightSectionProps","sx","labelProps","descriptionProps","errorProps"]),j=ae(),F=j.fn.size({size:i,sizes:qr}),{classes:S,cx:xe}=Dr({size:i,rightSectionWidth:F},{name:"PasswordInput",classNames:u,styles:y}),B=je(c),{systemStyles:Te,rest:Ce}=Le(Oe),[A,M]=fr(!1),Ie=d(De,{className:S.visibilityToggle,tabIndex:n,radius:o,size:j.fn.size({size:i,sizes:Ur}),"aria-hidden":!0,onMouseDown:T=>{T.preventDefault(),M()},onKeyDown:T=>{T.nativeEvent.code==="Space"&&(T.preventDefault(),M())},children:d(b,{reveal:A,size:j.fn.size({size:i,sizes:Wr})})});return d(Qe,{...$($({required:f,id:B,label:p,error:l,description:P,size:i,className:s,style:v,classNames:u,styles:y,__staticSelector:x,sx:_e,errorProps:Se,descriptionProps:Pe,labelProps:we},Te),_),children:d(er,{component:"div",invalid:!!l,icon:g,size:i,classNames:Ar($({},u),{input:S.input}),styles:y,radius:o,disabled:a,__staticSelector:x,rightSectionWidth:F,rightSection:!a&&Ie,variant:h,children:d("input",{...$({type:A?"text":"password",required:f,className:xe(S.innerInput,{[S.withIcon]:g,[S.invalid]:!!l}),disabled:a,id:B,ref:r},Ce)})})})});ve.displayName="@mantine/core/PasswordInput";if(!m.exports.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!ke)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");function Vr(e){e()}function Zr(e){e||(e=Vr),Fe({reactionScheduler:e})}function Kr(e){return Be(e)}var J=typeof FinalizationRegistry=="undefined"?void 0:FinalizationRegistry;function me(e){var r={reaction:e,mounted:!1,changedBeforeMount:!1,cleanAt:Date.now()+Gr};return r}var Gr=1e4,Xr=1e4;function Yr(e){var r=new Map,t=1,o=new e(function(i){var n=r.get(i);n&&(n.reaction.dispose(),r.delete(i))});return{addReactionToTrack:function(a,i,n){var s=t++;return o.register(n,s,a),a.current=me(i),a.current.finalizationRegistryCleanupToken=s,r.set(s,a.current),a.current},recordReactionAsCommitted:function(a){o.unregister(a),a.current&&a.current.finalizationRegistryCleanupToken&&r.delete(a.current.finalizationRegistryCleanupToken)},forceCleanupTimerToRunNowForTests:function(){},resetCleanupScheduleForTests:function(){}}}var Jr=globalThis&&globalThis.__values||function(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],o=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};function Qr(){var e=new Set,r;function t(){r&&(clearTimeout(r),s())}function o(){var c,p;if(e.size>0){try{for(var l=Jr(e),f=l.next();!f.done;f=l.next()){var v=f.value,g=v.current;g&&(g.reaction.dispose(),v.current=null)}}catch(P){c={error:P}}finally{try{f&&!f.done&&(p=l.return)&&p.call(l)}finally{if(c)throw c.error}}e.clear()}r&&(clearTimeout(r),r=void 0)}function a(){r===void 0&&(r=setTimeout(s,Xr))}function i(c){e.add(c),a()}function n(c){e.delete(c)}function s(){r=void 0;var c=Date.now();e.forEach(function(p){var l=p.current;l&&c>=l.cleanAt&&(l.reaction.dispose(),p.current=null,e.delete(p))}),e.size>0&&a()}return{addReactionToTrack:function(c,p,l){return c.current=me(p),i(c),c.current},recordReactionAsCommitted:n,forceCleanupTimerToRunNowForTests:t,resetCleanupScheduleForTests:o}}var ge=J?Yr(J):Qr(),et=ge.addReactionToTrack,rt=ge.recordReactionAsCommitted,Q=globalThis&&globalThis.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var o=t.call(e),a,i=[],n;try{for(;(r===void 0||r-- >0)&&!(a=o.next()).done;)i.push(a.value)}catch(s){n={error:s}}finally{try{a&&!a.done&&(t=o.return)&&t.call(o)}finally{if(n)throw n.error}}return i};function ee(e){return"observer".concat(e)}var tt=function(){function e(){}return e}();function ot(){return new tt}function nt(e,r){r===void 0&&(r="observed");var t=Q(w.useState(ot),1),o=t[0],a=Q(w.useState(),2),i=a[1],n=function(){return i([])},s=w.useRef(null);if(!s.current)var c=new U(ee(r),function(){p.mounted?n():p.changedBeforeMount=!0}),p=et(s,c,o);var l=s.current.reaction;w.useDebugValue(l,Kr),w.useEffect(function(){return rt(s),s.current?(s.current.mounted=!0,s.current.changedBeforeMount&&(s.current.changedBeforeMount=!1,n())):(s.current={reaction:new U(ee(r),function(){n()}),mounted:!0,changedBeforeMount:!1,cleanAt:1/0},n()),function(){s.current.reaction.dispose(),s.current=null}},[]);var f,v;if(l.track(function(){try{f=e()}catch(g){v=g}}),v)throw v;return f}var he=typeof Symbol=="function"&&Symbol.for,re=he?Symbol.for("react.forward_ref"):typeof m.exports.forwardRef=="function"&&m.exports.forwardRef(function(e){return null}).$$typeof,te=he?Symbol.for("react.memo"):typeof m.exports.memo=="function"&&m.exports.memo(function(e){return null}).$$typeof;function at(e,r){var t;if(te&&e.$$typeof===te)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");var o=(t=r==null?void 0:r.forwardRef)!==null&&t!==void 0?t:!1,a=e,i=e.displayName||e.name;if(re&&e.$$typeof===re&&(o=!0,a=e.render,typeof a!="function"))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var n=function(s,c){return nt(function(){return a(s,c)},i)};return i!==""&&(n.displayName=i),e.contextTypes&&(n.contextTypes=e.contextTypes),o&&(n=m.exports.forwardRef(n)),n=m.exports.memo(n),st(e,n),n}var it={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function st(e,r){Object.keys(e).forEach(function(t){it[t]||Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}globalThis&&globalThis.__read;Zr(Ae.exports.unstable_batchedUpdates);function be({noShadow:e,noPadding:r,style:t}){var P;const o=ae(),a=Me("root"),i=Ue(),n=We(),s=new URLSearchParams(i.search),c=(P=s.get("from"))!=null?P:"/",p=m.exports.useCallback(()=>{n("/")},[n]),l=dr({initialValues:{phone_or_email:"",password:""},validationRules:{phone_or_email:_=>_.length>0,password:_=>_.length>0},errorMessages:{phone_or_email:"Invalid Phone or Email",password:"Password should contain 1 number, 1 letter and at least 6 characters"}}),f=Je(async _=>a.auth.login({phone_or_email:_.phone_or_email,password:_.password})),v=()=>{f.mutate(l.values,{onSuccess:()=>{n(c,{replace:!0})}})};m.exports.useEffect(()=>{s.has("not_authenticated")&&qe({message:`You must login to access ${s.get("from")} page`,color:"red",title:"Not Authenticated"})},[]);const g=7;return O(He,{p:r?0:"lg",shadow:e?void 0:"sm",style:{position:"relative",backgroundColor:o.colorScheme==="dark"?o.colors.dark[g]:o.white,...t},children:[d(W,{mt:"sm",mb:"xs",children:d(rr,{})}),d(W,{mb:"md",children:d(Ve,{order:4,children:"Login Page"})}),d("form",{onSubmit:l.onSubmit(v),children:O(Ze,{children:[d(pe,{visible:f.isLoading}),d(tr,{mt:"md",required:!0,placeholder:"em@il.com / +95xx",label:"Email or Phone","aria-label":"Email or Phone",icon:d(Ke,{}),...l.getInputProps("phone_or_email")}),d(ve,{mt:"md",required:!0,placeholder:"5ecr3t!",label:"Password","aria-label":"Password",icon:d(Ge,{}),...l.getInputProps("password")}),f.error&&d(oe,{color:"red",size:"sm",mt:"sm",children:"Invalid email or password"}),O(Xe,{position:"apart",mt:"xl",children:[d(le,{component:"button",type:"button",color:"gray",onClick:p,size:"sm",children:"Forgot your password? Reset here"}),d(Ye,{color:"blue",type:"submit","aria-label":"Login",children:"Login"})]})]})})]})}be.defaultProps={noShadow:!1,noPadding:!1,style:{}};var lt=at(be);const ct=N(e=>({shell:{minHeight:"100vh"},body:{minHeight:"100vh",display:"flex",justifyContent:"center"}}));function mt(){const{classes:e}=ct(),r=4,t=7;return O(or,{className:e.shell,sx:o=>({background:o.colorScheme==="dark"?o.colors.dark[t]:o.colors.gray[0]}),children:[d(nr,{children:d("title",{children:"Login | Page"})}),d(ne,{className:e.body,style:{maxWidth:"400px",margin:"auto"},children:d("div",{style:{borderRadius:r,position:"relative",margin:"auto"},children:d(lt,{})})})]})}export{mt as default};
